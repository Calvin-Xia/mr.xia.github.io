# HTML文件移动端适配与图片懒加载说明

## 自动转换工具
运行 `convert.py` 可自动转换当前目录下所有HTML文件：
```bash
python convert.py
```

也可指定文件：
```bash
python convert.py 文件1.html 文件2.html
```

### 工具功能
1. **移动端适配**：添加viewport标签、修改容器宽度
2. **图片懒加载**：自动为img标签添加懒加载支持

---

## 图片懒加载功能

### 工作原理
工具会自动将图片的 `src` 属性转换为 `data-src`，并注入 Intersection Observer 脚本实现懒加载。

### 转换效果
**转换前：**
```html
<img src="image.jpg" alt="图片描述">
```

**转换后：**
```html
<img loading="lazy" class="lazy-img" data-src="image.jpg" alt="图片描述">
```

### 懒加载优势
- 提升页面加载速度
- 节省带宽流量
- 改善用户体验

---

## 手动修改方法

## 问题
dooc社区导出的HTML文件未动态适配手机端浏览器。

## 原因
1. 缺少viewport meta标签
2. 内容容器设置了固定宽度 `width: 750px`

## 解决方案

### 步骤一：添加viewport标签
在每个HTML文件的 `<head>` 标签内添加viewport声明。

**修改位置：** 找到 `<meta charset="utf-8">` 这一行，在其后添加一行。

**修改前：**
```html
<head>
  <meta charset="utf-8">
  <title>页面标题</title>
```

**修改后：**
```html
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>页面标题</title>
```

### 步骤二：修改容器宽度（关键）
找到 `<body>` 标签后的第一个 `<div>`，修改样式。

**修改前：**
```html
<div style="width: 750px; margin: auto; padding: 20px;">
```

**修改后：**
```html
<div style="max-width: 750px; width: 100%; margin: auto; padding: 20px; box-sizing: border-box;">
```

> 注意：必须添加 `box-sizing: border-box`，否则 padding 会导致实际宽度超出屏幕。

## 说明
| 属性 | 作用 |
|------|------|
| `width=device-width` | 页面宽度等于设备屏幕宽度 |
| `initial-scale=1.0` | 初始缩放比例为1（不缩放） |
| `max-width: 750px` | 大屏幕上最大宽度限制为750px |
| `width: 100%` | 小屏幕上自动适应屏幕宽度 |
| `margin: auto` | 水平居中显示 |
| `padding: 20px` | 内边距20px |
| `box-sizing: border-box` | 包含padding在内计算宽度 |