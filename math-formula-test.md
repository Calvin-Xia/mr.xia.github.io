# 数学公式渲染测试

本文档用于测试Markdown转HTML工具的数学公式渲染功能。

## 测试用例

### 1. 行内公式测试

测试简单的行内公式：

- 质能方程：$E = mc^2$
- 勾股定理：$a^2 + b^2 = c^2$
- 二次公式：$x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}$

### 2. 单行块级公式测试

测试单行块级公式：

$$
\frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
$$

$$
\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}
$$

### 3. 多行块级公式测试

测试多行块级公式（这是之前有问题的部分）：

$$
\sum_{i=1}^{n} i = \frac{n(n+1)}{2}
$$

$$
\begin{pmatrix}
a & b \\
c & d
\end{pmatrix}
$$

$$
f(x) = \int_{-\infty}^{\infty} \hat{f}(\xi) e^{2\pi i x \xi} d\xi
$$

### 4. 复杂公式测试

测试更复杂的数学公式：

$$
\begin{aligned}
\nabla \times \mathbf{E} &= -\frac{\partial \mathbf{B}}{\partial t} \\
\nabla \cdot \mathbf{B} &= 0
\end{aligned}
$$

$$
\begin{cases}
3x + 5y + z = 1 \\
7x - 2y + 4z = 2 \\
-6x + 3y + 2z = 3
\end{cases}
$$

### 5. 混合测试

测试数学公式与其他Markdown元素的混合使用：

#### 公式与文本混合

这是一个行内公式 $x^2 + y^2 = r^2$，后面跟着普通文本。

下面是一个块级公式：

$$
\int_{a}^{b} f(x) dx = F(b) - F(a)
$$

继续普通文本。

#### 公式与列表混合

- 第一个公式：$a + b = c$
- 第二个公式：
  $$
  \frac{d}{dx} (x^n) = nx^{n-1}
  $$
- 第三个公式：$e^{i\pi} + 1 = 0$

#### 公式与表格混合

| 符号 | 公式 | 说明 |
|------|------|------|
| $\alpha$ | $\alpha = \frac{F}{ma}$ | 加速度 |
| $\beta$ | $\beta = \frac{F}{mb}$ | 加速度 |
| $\gamma$ | $\gamma = \frac{F}{mg}$ | 重力加速度 |

## 预期结果

所有上述公式应该能够正确渲染，包括：

✅ 行内公式（$...$）正常显示
✅ 单行块级公式（$$...$$）正常显示
✅ 多行块级公式（$$...$$）正常显示
✅ 复杂公式正常显示
✅ 公式与其他元素混合使用正常

## 验证步骤

1. 打开 `markdown-to-html-tool.html`
2. 将本文档内容复制到左侧输入框
3. 点击"渲染"按钮
4. 检查右侧预览区域的所有公式是否正确显示
5. 点击"导出HTML"按钮
6. 打开导出的HTML文件，验证公式是否同样正确显示

## 常见问题

### Q: 为什么我的公式没有渲染？
A: 请确保：
- 使用正确的分隔符：`$` 用于行内公式，`$$` 用于块级公式
- 公式语法符合KaTeX规范
- 浏览器支持JavaScript

### Q: 多行公式仍然无法渲染？
A: 请检查：
- 公式块是否完全在 `$$...$$` 之间
- 公式块内是否有额外的空行
- 公式语法是否正确

### Q: 如何在文本中换行？
A: 使用标准Markdown语法：两个空格+换行

例如：
```
这是第一行  
这是第二行
```

## 测试完成

如果所有公式都能正确渲染，说明修复成功！🎉
